# Snapshot report for `src/tests/generators/evaluation-calculation/EvaluationCalculation.spec.ts`

The actual snapshot is saved in `EvaluationCalculation.spec.ts.snap`.

Generated by [AVA](https://avajs.dev).

## parse calculation list

> Snapshot 1

    `␊
    /* eslint-disable */␊
    // THIS FILE WAS GENERATED␊
    // ALL CHANGES WILL BE OVERWRITTEN␊
    ␊
    // ARCHITECTURE START␊
      type FetchResponse<T> = {␊
        json: T;␊
        status: number;␊
        args: any;␊
      };␊
      ␊
      type Configuration = {␊
        jwtKey: string | undefined;␊
        onResponse?: (response: FetchResponse<any>) => void;␊
      };␊
      ␊
      let CONFIG: Configuration = {␊
        jwtKey: undefined,␊
        onResponse: () => {},␊
      };␊
      ␊
      export function configureApiCalls(configuration: Configuration) {␊
        CONFIG = { ...CONFIG, ...configuration };␊
      }␊
      ␊
      async function fetchJson<T>(...args: any): Promise<FetchResponse<T>> {␊
        const errorResponse = (status: number, args: any) => {␊
          const errorResponse = { status: status, json: null as any, args };␊
          CONFIG.onResponse && CONFIG.onResponse(errorResponse);␊
          return errorResponse;␊
        }␊
    ␊
        try {␊
          const res: Response = await (fetch as any)(...args);␊
          try {␊
            const json = await res.json();␊
            const response = { json: json, status: res.status, args };␊
            CONFIG.onResponse && CONFIG.onResponse(response);␊
            return response;␊
          }␊
          catch {␊
            return errorResponse(res.status, args)␊
          }␊
        } catch {␊
          return errorResponse(503, args);␊
        }␊
      }␊
      ␊
      const updateHeaders = (headers: Headers) => {␊
        if (!headers.has("Content-Type")) {␊
          headers.append("Content-Type", "application/json");␊
        }␊
        const token = CONFIG.jwtKey␊
          ? localStorage.getItem(CONFIG.jwtKey as any)␊
          : undefined;␊
        if (!headers.has("Authorization") && token) {␊
          headers.append("Authorization", token);␊
        }␊
      };␊
    ␊
    function apiPost<TResponse, TRequest>(␊
      url: string,␊
      request: TRequest,␊
      headers: Headers␊
    ) {␊
      var raw = JSON.stringify(request);␊
      updateHeaders(headers);␊
      var requestOptions = {␊
        method: "POST",␊
        headers,␊
        body: raw,␊
        redirect: "follow",␊
      };␊
    ␊
      return fetchJson<TResponse>(url, requestOptions as any);␊
    }␊
    ␊
    type ParamsObject = {␊
      [key: string]: any;␊
    };␊
    ␊
    function apiGet<TResponse>(␊
      url: string,␊
      headers: Headers,␊
      paramsObject: ParamsObject = {}␊
    ) {␊
      updateHeaders(headers);␊
      const queryString = Object.entries(paramsObject)␊
        .filter(([_, val]) => val !== undefined && val !== null)␊
        .map(([key, val]) => \`${key}=${val}\`)␊
        .join("&");␊
      const maybeQueryString = queryString.length > 0 ? \`?${queryString}\` : "";␊
      const requestOptions = {␊
        method: "GET",␊
        headers,␊
        redirect: "follow",␊
      };␊
      return fetchJson<TResponse>(\`${url}${maybeQueryString}\`, requestOptions);␊
    }␊
    ␊
    function apiPut<TResponse, TRequest>(␊
      url: string,␊
      request: TRequest,␊
      headers: Headers␊
    ) {␊
      updateHeaders(headers);␊
    ␊
      var raw = JSON.stringify(request);␊
    ␊
      var requestOptions = {␊
        method: "PUT",␊
        headers,␊
        body: raw,␊
        redirect: "follow",␊
      };␊
    ␊
      return fetchJson<TResponse>(url, requestOptions as any);␊
    }␊
    ␊
    function apiDelete<TResponse>(␊
      url: string,␊
      headers: Headers,␊
      paramsObject: ParamsObject = {}␊
    ) {␊
      updateHeaders(headers);␊
      const queryString = Object.entries(paramsObject)␊
        .filter(([_, val]) => val !== undefined && val !== null)␊
        .map(([key, val]) => \`${key}=${val}\`)␊
        .join("&");␊
      const maybeQueryString = queryString.length > 0 ? \`?${queryString}\` : "";␊
    ␊
      var requestOptions = {␊
        method: "DELETE",␊
        headers,␊
        redirect: "follow",␊
      };␊
      return fetchJson<TResponse>(\`${url}${maybeQueryString}\`, requestOptions);␊
    }␊
    ␊
    function apiPatch<TResponse, TRequest>(␊
      url: string,␊
      request: TRequest,␊
      headers: Headers␊
    ) {␊
      updateHeaders(headers);␊
    ␊
      var raw = JSON.stringify(request);␊
    ␊
      var requestOptions = {␊
        method: "PATCH",␊
        headers,␊
        body: raw,␊
        redirect: "follow",␊
      };␊
    ␊
      return fetchJson<TResponse>(url, requestOptions as any);␊
    }␊
    // ARCHITECTURE END␊
    ␊
    export const API_ROUTES = { ␊
    	postEvaluationCalculationEnterpriseCodeCalculationCode: "/api/Evaluation/calculation"␊
    }␊
    ␊
    export interface CalculationFromCodesRequest {␊
    	calculationParameters?: unknown | null;␊
    }␊
    ␊
    export interface PublicCalculationResult {␊
    	calculationDate: string;␊
    	outputParameters?: unknown | null;␊
    	warnings?: TemplateWarning[] | null;␊
    	terminationStatus?: TerminationStatus | null;␊
    	errorStatus?: ErrorStatus | null;␊
    }␊
    ␊
    export interface TemplateWarning {␊
    	elementID: string;␊
    	code?: string | null;␊
    	message?: string | null;␊
    }␊
    ␊
    export interface TerminationStatus {␊
    	elementID: string;␊
    	message?: string | null;␊
    }␊
    ␊
    export interface ErrorStatus {␊
    	elementID: string;␊
    	message?: string | null;␊
    }␊
    ␊
    export interface ProblemDetails {␊
    	type?: string | null;␊
    	title?: string | null;␊
    	status?: number | null;␊
    	detail: string;␊
    	instance?: string | null;␊
    	additionalInformation: unknown;␊
    }␊
    ␊
    const API_URL = "";␊
    ␊
    export const postEvaluationCalculationEnterpriseCodeCalculationCode = (requestContract: CalculationFromCodesRequest, enterpriseCode: string, calculationCode: string, headers = new Headers()): ␊
    	Promise<FetchResponse<PublicCalculationResult>> => ␊
    	apiPost(\`${API_URL}/api/Evaluation/calculation/${enterpriseCode}/${calculationCode}\`, requestContract, headers);␊
    ␊
    export const API = { ␊
    	postEvaluationCalculationEnterpriseCodeCalculationCode␊
    }␊
    ␊
    `
