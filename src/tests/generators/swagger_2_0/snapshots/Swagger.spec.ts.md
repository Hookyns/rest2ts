# Snapshot report for `src/tests/generators/swagger_2_0/Swagger.spec.ts`

The actual snapshot is saved in `Swagger.spec.ts.snap`.

Generated by [AVA](https://avajs.dev).

## Angular parse swagger 2.0

> Snapshot 1

    `␊
    /* eslint-disable */␊
    // THIS FILE WAS GENERATED␊
    // ALL CHANGES WILL BE OVERWRITTEN␊
    ␊
    // ARCHITECTURE START␊
    ␊
      import { mergeMap, catchError } from 'rxjs/operators';␊
      import { Observable, throwError as _observableThrow, of as _observableOf } from 'rxjs';␊
      import { Injectable, Inject, Optional, InjectionToken } from '@angular/core';␊
      import { HttpClient, HttpHeaders, HttpResponse, HttpResponseBase, HttpContext } from '@angular/common/http';␊
    ␊
      function createQueryUrl<K extends object>(url: string, paramsObject: K) {␊
        const queryString = Object.entries(paramsObject)␊
          .map(([key, val]) => `${key}=${val}`)␊
          .join("&");␊
        const maybeQueryString = queryString.length > 0 ? `?${queryString}` : "";␊
        return `${url}${maybeQueryString}`;␊
    }␊
    ␊
      function apiGet<T, U extends object = object>(␊
        httpClient: HttpClient,␊
        url: string,␊
        params?: U,␊
      ): Observable<T | never> {␊
        const queryUrl = !!params ? createQueryUrl<U>(url, params) : url;␊
        return httpClient.get<T>(queryUrl);␊
      }␊
      ␊
      function apiPost<T, U = unknown>(␊
        httpClient: HttpClient,␊
        url: string,␊
        body: U,␊
        headers?: HttpHeaders,␊
      ): Observable<T | never> {␊
        return httpClient.post<T>(url, body, {␊
          headers: headers,␊
        });␊
      }␊
      ␊
      function apiPut<T, U = unknown>(␊
        httpClient: HttpClient,␊
        url: string,␊
        body: U,␊
        headers?: HttpHeaders,␊
      ): Observable<T | never> {␊
        return httpClient.put<T>(url, body, {␊
          headers: headers,␊
        });␊
      }␊
    ␊
      function apiDelete<T, U extends object = object>(httpClient: HttpClient, url: string, params?: U) {␊
        const queryUrl = !!params ? createQueryUrl<U>(url, params) : url;␊
        return httpClient.delete<T>(queryUrl);␊
      }␊
    ␊
      function apiPatch<T, U = unknown>(␊
        httpClient: HttpClient,␊
        url: string,␊
        body: U,␊
        headers?: HttpHeaders,␊
      ): Observable<T | never> {␊
        return httpClient.patch<T>(url, body, {␊
          headers: headers,␊
        });␊
      }␊
    ␊
      // ARCHITECTURE END␊
      ␊
    export const API_ROUTES = { ␊
    	getAgendaSearch: "/api/Agenda/Search",␊
    	postApiUsersIsUserValid: "/api/ApiUsers/IsUserValid",␊
    	postContractEditContractSignatures: "/api/Contract/EditContractSignatures",␊
    	patchCaseUpdateCaseTypeCaseNoCaseType: "/api/Case/UpdateCaseType"␊
    }␊
    ␊
    export interface SearchResponse {␊
    	Data: SearchDto;␊
    	Errors: string[];␊
    	Status: Status;␊
    }␊
    ␊
    export interface LoginDataDataContract {␊
    	Login: string;␊
    	Password: string;␊
    }␊
    ␊
    export interface SearchDto {␊
    	DO_NUM: string;␊
    	EV_RANG: number;␊
    	EV_LIB: string;␊
    	EV_DATREAL: string;␊
    	EV_HREREAL: string;␊
    	EV_URGENCE: string;␊
    	EV_AGENDA: string;␊
    	EV_COD: string;␊
    	EV_PSEUDO: string;␊
    	EV_Deadline: string;␊
    	EV_DeadlineTime: string;␊
    	EV_DeadlineSendCounter: number;␊
    	EV_Alarm: boolean;␊
    	EV_AgendaWorkerKey: string;␊
    	EV_Status: string;␊
    	EV_InsertUser: string;␊
    }␊
    ␊
    export interface IPA_PlexDbContext_ContractSignature {␊
    	ID: number;␊
    	ContractNo: string;␊
    	RoleProviderId: number;␊
    	Signature: string;␊
    	UP_Id: number;␊
    	SignatureType: number;␊
    }␊
    ␊
    export enum Status {␊
    	ValidationError = "ValidationError",␊
    	OK = "OK",␊
    	Exception = "Exception",␊
    	InvalidOperation = "InvalidOperation"␊
    }␊
    ␊
    ␊
    ␊
    export const API_BASE_URL = new InjectionToken<string>('API_BASE_URL');␊
    ␊
    @Injectable()␊
    export class ApiService {␊
      private httpClient: HttpClient;␊
      private baseUrl: string;␊
    ␊
      constructor(␊
        @Inject(HttpClient) httpClient: HttpClient,␊
        @Optional() @Inject(API_BASE_URL) baseUrl?: string␊
      ) {␊
          this.httpClient = httpClient;␊
          this.baseUrl = baseUrl ?? "";␊
      }␊
    ␊
      ␊
    	getAgendaSearch(do_num: string): Observable<SearchResponse[]> {␊
          const queryParams = {␊
    		do_num␊
    	}␊
    	␊
          return apiGet<SearchResponse[]>(this.httpClient, `${this.baseUrl}/api/Agenda/Search`, queryParams);␊
        }␊
    ␊
        postApiUsersIsUserValid(requestContract: LoginDataDataContract, ): Observable<any> { ␊
          return apiPost<any>(this.httpClient, `${this.baseUrl}/api/ApiUsers/IsUserValid`, requestContract);␊
        }␊
      ␊
    ␊
        postContractEditContractSignatures(requestContract: IPA_PlexDbContext_ContractSignature[], ): Observable<any> { ␊
          return apiPost<any>(this.httpClient, `${this.baseUrl}/api/Contract/EditContractSignatures`, requestContract);␊
        }␊
      ␊
    ␊
        patchCaseUpdateCaseTypeCaseNoCaseType(caseNo: string, caseType: string): Observable<any> { ␊
          return apiPatch<any>(this.httpClient, `${this.baseUrl}/api/Case/UpdateCaseType/${caseNo}/${caseType}`, {});␊
        }␊
      ␊
    ␊
    ␊
    }␊
      ␊
      ␊
    ␊
    `

## parse swagger 2.0

> Snapshot 1

    `␊
    /* eslint-disable */␊
    // THIS FILE WAS GENERATED␊
    // ALL CHANGES WILL BE OVERWRITTEN␊
    ␊
    // ARCHITECTURE START␊
      type FetchResponse<T> = {␊
        json: T;␊
        status: number;␊
      };␊
      ␊
      type Configuration = {␊
        jwtKey: string | undefined;␊
        onResponse?: (response: FetchResponse<any>) => void;␊
      };␊
      ␊
      let CONFIG: Configuration = {␊
        jwtKey: undefined,␊
        onResponse: () => {},␊
      };␊
      ␊
      export function configureApiCalls(configuration: Configuration) {␊
        CONFIG = { ...CONFIG, ...configuration };␊
      }␊
      ␊
      async function fetchJson<T>(...args: any): Promise<FetchResponse<T>> {␊
        const errorResponse = (status: number) => {␊
          const errorResponse = { status: status, json: null as any };␊
          CONFIG.onResponse && CONFIG.onResponse(errorResponse);␊
          return errorResponse;␊
        }␊
    ␊
        try {␊
          const res: Response = await (fetch as any)(...args);␊
          try {␊
            const json = await res.json();␊
            const response = { json: json, status: res.status };␊
            CONFIG.onResponse && CONFIG.onResponse(response);␊
            return response;␊
          }␊
          catch {␊
            return errorResponse(res.status)␊
          }␊
        } catch {␊
          return errorResponse(503);␊
        }␊
      }␊
      ␊
      const updateHeaders = (headers: Headers) => {␊
        if (!headers.has("Content-Type")) {␊
          headers.append("Content-Type", "application/json");␊
        }␊
        const token = CONFIG.jwtKey␊
          ? localStorage.getItem(CONFIG.jwtKey as any)␊
          : undefined;␊
        if (!headers.has("Authorization") && token) {␊
          headers.append("Authorization", token);␊
        }␊
      };␊
    ␊
    function apiPost<TResponse, TRequest>(␊
      url: string,␊
      request: TRequest,␊
      headers: Headers␊
    ) {␊
      var raw = JSON.stringify(request);␊
      updateHeaders(headers);␊
      var requestOptions = {␊
        method: "POST",␊
        headers,␊
        body: raw,␊
        redirect: "follow",␊
      };␊
    ␊
      return fetchJson<TResponse>(url, requestOptions as any);␊
    }␊
    ␊
    type ParamsObject = {␊
      [key: string]: any;␊
    };␊
    ␊
    function apiGet<TResponse>(␊
      url: string,␊
      headers: Headers,␊
      paramsObject: ParamsObject = {}␊
    ) {␊
      updateHeaders(headers);␊
      const queryString = Object.entries(paramsObject)␊
        .map(([key, val]) => `${key}=${val}`)␊
        .join("&");␊
      const maybeQueryString = queryString.length > 0 ? `?${queryString}` : "";␊
      const requestOptions = {␊
        method: "GET",␊
        headers,␊
        redirect: "follow",␊
      };␊
      return fetchJson<TResponse>(`${url}${maybeQueryString}`, requestOptions);␊
    }␊
    ␊
    function apiPut<TResponse, TRequest>(␊
      url: string,␊
      request: TRequest,␊
      headers: Headers␊
    ) {␊
      updateHeaders(headers);␊
    ␊
      var raw = JSON.stringify(request);␊
    ␊
      var requestOptions = {␊
        method: "PUT",␊
        headers,␊
        body: raw,␊
        redirect: "follow",␊
      };␊
    ␊
      return fetchJson<TResponse>(url, requestOptions as any);␊
    }␊
    ␊
    function apiDelete<TResponse>(␊
      url: string,␊
      headers: Headers,␊
      paramsObject: ParamsObject = {}␊
    ) {␊
      updateHeaders(headers);␊
      const queryString = Object.entries(paramsObject)␊
        .map(([key, val]) => `${key}=${val}`)␊
        .join("&");␊
      const maybeQueryString = queryString.length > 0 ? `?${queryString}` : "";␊
    ␊
      var requestOptions = {␊
        method: "DELETE",␊
        headers,␊
        redirect: "follow",␊
      };␊
      return fetchJson<TResponse>(`${url}${maybeQueryString}`, requestOptions);␊
    }␊
    ␊
    function apiPatch<TResponse, TRequest>(␊
      url: string,␊
      request: TRequest,␊
      headers: Headers␊
    ) {␊
      updateHeaders(headers);␊
    ␊
      var raw = JSON.stringify(request);␊
    ␊
      var requestOptions = {␊
        method: "PATCH",␊
        headers,␊
        body: raw,␊
        redirect: "follow",␊
      };␊
    ␊
      return fetchJson<TResponse>(url, requestOptions as any);␊
    }␊
    // ARCHITECTURE END␊
    ␊
    export const API_ROUTES = { ␊
    	getAgendaSearch: "/api/Agenda/Search",␊
    	postApiUsersIsUserValid: "/api/ApiUsers/IsUserValid",␊
    	postContractEditContractSignatures: "/api/Contract/EditContractSignatures",␊
    	patchCaseUpdateCaseTypeCaseNoCaseType: "/api/Case/UpdateCaseType"␊
    }␊
    ␊
    export interface SearchResponse {␊
    	Data: SearchDto;␊
    	Errors: string[];␊
    	Status: Status;␊
    }␊
    ␊
    export interface LoginDataDataContract {␊
    	Login: string;␊
    	Password: string;␊
    }␊
    ␊
    export interface SearchDto {␊
    	DO_NUM: string;␊
    	EV_RANG: number;␊
    	EV_LIB: string;␊
    	EV_DATREAL: string;␊
    	EV_HREREAL: string;␊
    	EV_URGENCE: string;␊
    	EV_AGENDA: string;␊
    	EV_COD: string;␊
    	EV_PSEUDO: string;␊
    	EV_Deadline: string;␊
    	EV_DeadlineTime: string;␊
    	EV_DeadlineSendCounter: number;␊
    	EV_Alarm: boolean;␊
    	EV_AgendaWorkerKey: string;␊
    	EV_Status: string;␊
    	EV_InsertUser: string;␊
    }␊
    ␊
    export interface IPA_PlexDbContext_ContractSignature {␊
    	ID: number;␊
    	ContractNo: string;␊
    	RoleProviderId: number;␊
    	Signature: string;␊
    	UP_Id: number;␊
    	SignatureType: number;␊
    }␊
    ␊
    export enum Status {␊
    	ValidationError = "ValidationError",␊
    	OK = "OK",␊
    	Exception = "Exception",␊
    	InvalidOperation = "InvalidOperation"␊
    }␊
    ␊
    const API_URL = "";␊
    ␊
    export const getAgendaSearch = (do_num: string, headers = new Headers()): ␊
    	Promise<FetchResponse<SearchResponse[]>> => {␊
    	const queryParams = {␊
    		do_num␊
    	}␊
    	return apiGet(`${API_URL}/api/Agenda/Search`, headers, queryParams);␊
    }␊
    ␊
    export const postApiUsersIsUserValid = (requestContract: LoginDataDataContract, headers = new Headers()): ␊
    	Promise<FetchResponse<any>> => ␊
    	apiPost(`${API_URL}/api/ApiUsers/IsUserValid`, requestContract, headers);␊
    ␊
    export const postContractEditContractSignatures = (requestContract: IPA_PlexDbContext_ContractSignature[], headers = new Headers()): ␊
    	Promise<FetchResponse<any>> => ␊
    	apiPost(`${API_URL}/api/Contract/EditContractSignatures`, requestContract, headers);␊
    ␊
    export const patchCaseUpdateCaseTypeCaseNoCaseType = (caseNo: string, caseType: string, headers = new Headers()): ␊
    	Promise<FetchResponse<any>> => ␊
    	apiPatch(`${API_URL}/api/Case/UpdateCaseType/${caseNo}/${caseType}`, {}, headers);␊
    ␊
    export const API = { ␊
    	getAgendaSearch,␊
    	postApiUsersIsUserValid,␊
    	postContractEditContractSignatures,␊
    	patchCaseUpdateCaseTypeCaseNoCaseType␊
    }␊
    ␊
    `
